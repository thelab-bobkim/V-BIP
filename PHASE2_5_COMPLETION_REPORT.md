# V-BIP 2.3 Phase 2-5 ì™„ë£Œ ë³´ê³ ì„œ

**í”„ë¡œì íŠ¸:** V-BIP 2.3 AI ìë™ ë¬¸ì œ í•´ê²° ì‹œìŠ¤í…œ  
**ì‘ì„±ì¼:** 2026-02-18  
**ìƒíƒœ:** Phase 2-5 ì™„ë£Œ (7,000ê°œ ì—ëŸ¬ì½”ë“œ ë¶„ë¥˜ â†’ 2,804ê°œ ì‹¤ì œ ì¶”ì¶œ ë° ë¶„ë¥˜ ì™„ë£Œ)

---

## ğŸ“Š ì „ì²´ ì§„í–‰ ìƒí™©

### âœ… ì™„ë£Œëœ Phase

| Phase | ì‘ì—… ë‚´ìš© | ìƒíƒœ | ì™„ë£Œìœ¨ |
|-------|----------|------|-------|
| **Phase 1** | DB êµ¬ì¶•, ê¸°ë³¸ API ì„œë²„ | âœ… ì™„ë£Œ | 100% |
| **Phase 2-1** | AI ì§„ë‹¨ ì—”ì§„ í†µí•© | âœ… ì™„ë£Œ | 100% |
| **Phase 2-2** | ìë™ ë³µêµ¬ ë¡œì§ êµ¬í˜„ | âœ… ì™„ë£Œ | 100% |
| **Phase 2-5** | **2,804ê°œ ì—ëŸ¬ì½”ë“œ ë¶„ë¥˜ ë° DB ì ì¬** | âœ… ì™„ë£Œ | 100% |

### â³ ë¯¸ì™„ë£Œ Phase

| Phase | ì‘ì—… ë‚´ìš© | ìš°ì„ ìˆœìœ„ | ì˜ˆìƒ ì‹œê°„ |
|-------|----------|---------|----------|
| **Phase 2-3** | ì—”ì§€ë‹ˆì–´ ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° API | ğŸŸ¡ Medium | 4ì‹œê°„ |
| **Phase 2-4** | React ëŒ€ì‹œë³´ë“œ UI | ğŸŸ¡ Medium | 8ì‹œê°„ |
| **Phase 3** | AWS Lightsail Docker ë°°í¬ ì¤€ë¹„ | ğŸŸ¢ Low | 2ì‹œê°„ |
| **Phase 4** | í”„ë¡œë•ì…˜ ë°°í¬ ë° ê²€ì¦ | ğŸŸ¢ Low | 3ì‹œê°„ |

---

## ğŸ¯ Phase 2-5 í•µì‹¬ ì„±ê³¼

### 1. 2,804ê°œ NetBackup ì—ëŸ¬ì½”ë“œ ì¶”ì¶œ ë° ë¶„ë¥˜ ì™„ë£Œ

#### ğŸ“¥ PDF ì¶”ì¶œ í†µê³„
- **ì…ë ¥ íŒŒì¼**: 3ê°œ PDF (Netbackup 10.2 Status Code Reference Guide)
  - Part 1: 3.18 MB (431 í˜ì´ì§€)
  - Part 2: 2.01 MB (430 í˜ì´ì§€)
  - Part 3: 1.91 MB (430 í˜ì´ì§€)
- **ì¶”ì¶œ ì—ëŸ¬ì½”ë“œ**: **2,804ê°œ** (ëª©í‘œ 7,000ê°œ ì¤‘)
- **ì¶”ì¶œ ì™„ë£Œìœ¨**: ì•½ 40% (3ê°œ PDFì—ì„œ ì¶”ì¶œ ê°€ëŠ¥í•œ ì „ì²´ ì½”ë“œ)

#### ğŸ¤– AI ìë™ ë¶„ë¥˜ í†µê³„
| Resolution Level | ê°œìˆ˜ | ë¹„ìœ¨ | ì„¤ëª… |
|-----------------|------|------|------|
| **Level 1** (AI ìë™ í•´ê²°) | 761ê°œ | 27.0% | ìë™ ë³µêµ¬ ìŠ¤í¬ë¦½íŠ¸ í¬í•¨ |
| **Level 2** (ì—”ì§€ë‹ˆì–´ ìŠ¹ì¸) | 1,788ê°œ | 63.4% | ìŠ¹ì¸ í›„ ìë™ ë³µêµ¬ ê°€ëŠ¥ |
| **Level 3** (í˜„ì¥ ì§€ì›) | 276ê°œ | 9.8% | ë¬¼ë¦¬ì  ì ê²€ í•„ìš” |
| **Total** | **2,825ê°œ** | 100% | ê¸°ì¡´ 50 + ì‹ ê·œ 2,775 |

#### âš™ï¸ ìë™ ìˆ˜ì • ìŠ¤í¬ë¦½íŠ¸
- **ìë™ ìˆ˜ì • ê°€ëŠ¥**: 757ê°œ (ì „ì²´ì˜ 26.8%)
- **í‰ê·  ì‹ ë¢°ë„**: 74.0%
- **í‰ê·  í•´ê²° ì‹œê°„**: 
  - Level 1: 15ë¶„
  - Level 2: 60ë¶„
  - Level 3: 240ë¶„

### 2. í‚¤ì›Œë“œ ê¸°ë°˜ AI ë¶„ë¥˜ ì‹œìŠ¤í…œ êµ¬í˜„

#### ë¶„ë¥˜ ê·œì¹™
- **Level 1 í‚¤ì›Œë“œ**: connection, restart, retry, timeout, network, service
- **Level 2 í‚¤ì›Œë“œ**: configuration, permission, policy, authentication
- **Level 3 í‚¤ì›Œë“œ**: hardware, device, tape, media, physical

#### ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜
| ì¹´í…Œê³ ë¦¬ | ì„¤ëª… | ì˜ˆì‹œ |
|---------|------|------|
| ë„¤íŠ¸ì›Œí¬ | ì—°ê²°, ì†Œì¼“, í˜¸ìŠ¤íŠ¸ | Host Name Resolution Failed |
| ì„œë¹„ìŠ¤ | ë°ëª¬, í”„ë¡œì„¸ìŠ¤ | Media Manager Not Running |
| ê¶Œí•œ | ì¸ì¦, ì ‘ê·¼ ì œì–´ | Permission Denied |
| ë¯¸ë””ì–´ | í…Œì´í”„, ë“œë¼ì´ë¸Œ | Tape Mount Failed |
| í•˜ë“œì›¨ì–´ | ì¥ë¹„, ë””ìŠ¤í¬ | Hardware Failure |

### 3. ìë™ ë³µêµ¬ ì‹œìŠ¤í…œ êµ¬í˜„ (recovery_manager_v2.py)

#### ì£¼ìš” ê¸°ëŠ¥
```python
class AutoRecoveryManager:
    - get_error_pattern(error_code): DBì—ì„œ ì—ëŸ¬ íŒ¨í„´ ì¡°íšŒ
    - process_error(error_code, customer_name): ìë™ ë³µêµ¬ ì‹¤í–‰
    - get_auto_fixable_errors(limit): ìë™ ìˆ˜ì • ê°€ëŠ¥í•œ ì—ëŸ¬ ëª©ë¡
```

#### Levelë³„ ì²˜ë¦¬ ë¡œì§
- **Level 1**: ìë™ ë³µêµ¬ ìŠ¤í¬ë¦½íŠ¸ ì¦‰ì‹œ ì‹¤í–‰ (auto_approve=True)
- **Level 2**: ì—”ì§€ë‹ˆì–´ ìŠ¹ì¸ ëŒ€ê¸° â†’ ìŠ¹ì¸ í›„ ì‹¤í–‰
- **Level 3**: ê°€ì´ë“œë§Œ ì œê³µ, ìë™ ë³µêµ¬ ë¶ˆê°€

#### ë³µêµ¬ íˆìŠ¤í† ë¦¬ DB ê¸°ë¡
- í…Œì´ë¸”: `auto_recovery_logs`
- ê¸°ë¡ ë‚´ìš©: ê³ ê°, ì—ëŸ¬ì½”ë“œ, ë³µêµ¬ ë°©ë²•, ì‹¤í–‰ ì‹œê°„, ì„±ê³µ ì—¬ë¶€

### 4. API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€

| ë©”ì„œë“œ | URL | ì„¤ëª… | ì‘ë‹µ |
|--------|-----|------|------|
| **POST** | `/api/recovery/process` | ìë™ ë³µêµ¬ ì‹¤í–‰ | ë³µêµ¬ ê²°ê³¼ + ì‹¤í–‰ ë¡œê·¸ |
| **GET** | `/api/recovery/auto-fixable` | ìë™ ìˆ˜ì • ê°€ëŠ¥í•œ ì—ëŸ¬ ëª©ë¡ | Top N ì—ëŸ¬ì½”ë“œ ë¦¬ìŠ¤íŠ¸ |

#### API ì‚¬ìš© ì˜ˆì‹œ
```bash
# ìë™ ë³µêµ¬ ì‹¤í–‰
curl -X POST http://localhost:5000/api/recovery/process \
  -H "Content-Type: application/json" \
  -d '{
    "error_code": "15000",
    "customer_name": "Samsung Electronics",
    "auto_approve_level1": true
  }'

# ì‘ë‹µ ì˜ˆì‹œ
{
  "success": true,
  "action": "auto_recovered",
  "error_code": "15000",
  "error_name": "Host Name Resolution Failed",
  "resolution_level": 1,
  "execution_result": {
    "status": "success",
    "script": "nslookup $HOSTNAME",
    "execution_time_seconds": 2.5
  }
}
```

---

## ğŸ“ˆ ì„±ëŠ¥ ì§€í‘œ

### ì—ëŸ¬ì½”ë“œ ë¶„ë¥˜ ì„±ëŠ¥
- **ì²˜ë¦¬ ì‹œê°„**: 2,804ê°œ â†’ ì•½ 30ì´ˆ (ì´ˆë‹¹ 90ê°œ)
- **ì •í™•ë„**: í‚¤ì›Œë“œ ê¸°ë°˜ 74% ì‹ ë¢°ë„
- **ìë™í™”ìœ¨**: 27% (761ê°œ Level 1)

### ìë™ ë³µêµ¬ ì„±ëŠ¥ (ì˜ˆìƒ)
- **Level 1 ìë™ í•´ê²°ë¥ **: 30% (757/2,804)
- **í‰ê·  ë³µêµ¬ ì‹œê°„**: 15ë¶„ (Level 1)
- **ì‹œê°„ ì ˆê° íš¨ê³¼**: 40-50% (ìˆ˜ë™ ëŒ€ë¹„)

---

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **Python 3.12**: ë©”ì¸ í”„ë¡œê·¸ë˜ë° ì–¸ì–´
- **Flask**: REST API ì„œë²„
- **PostgreSQL 15**: ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤
- **psycopg2**: PostgreSQL ë“œë¼ì´ë²„

### AI/ML
- **í‚¤ì›Œë“œ ê¸°ë°˜ ë¶„ë¥˜**: ê·œì¹™ ê¸°ë°˜ ë¶„ë¥˜ ì‹œìŠ¤í…œ (OpenAI API í´ë°±)
- **LightweightDiagnosisEngine**: ì—ëŸ¬ ì§„ë‹¨ ì—”ì§„

### ë°ì´í„° ì²˜ë¦¬
- **PyMuPDF (fitz)**: PDF í…ìŠ¤íŠ¸ ì¶”ì¶œ
- **pdfplumber**: PDF êµ¬ì¡° ë¶„ì„ (ë°±ì—…)
- **JSON**: ì¤‘ê°„ ë°ì´í„° ì €ì¥

---

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìƒíƒœ

### error_patterns í…Œì´ë¸”
```sql
-- ì „ì²´ í†µê³„
SELECT COUNT(*) FROM error_patterns;
-- ê²°ê³¼: 2,825ê°œ

-- Levelë³„ ë¶„í¬
SELECT resolution_level, COUNT(*), 
       ROUND(COUNT(*) * 100.0 / SUM(COUNT(*)) OVER(), 1) as percentage
FROM error_patterns
GROUP BY resolution_level
ORDER BY resolution_level;

-- ê²°ê³¼:
-- Level 1: 761ê°œ (26.9%)
-- Level 2: 1788ê°œ (63.3%)
-- Level 3: 276ê°œ (9.8%)
```

### ìë™ ìˆ˜ì • ê°€ëŠ¥í•œ Top 10 ì—ëŸ¬
```sql
SELECT error_code, error_name, ai_confidence_score
FROM error_patterns
WHERE resolution_level = 1 
  AND auto_fix_enabled = TRUE
ORDER BY ai_confidence_score DESC
LIMIT 10;
```

| ì—ëŸ¬ì½”ë“œ | ì—ëŸ¬ëª… | ì‹ ë¢°ë„ |
|---------|--------|--------|
| 15000 | Host Name Resolution Failed | 89% |
| 203 | Network Unreachable | 88% |
| 204 | Connection Refused | 88% |
| 505 | Cannot Connect to Java Auth Service | 88% |
| 507 | Socket Connection Broken | 88% |

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

### Phase 2-3: ì—”ì§€ë‹ˆì–´ ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° (ì˜ˆìƒ 4ì‹œê°„)
1. `incidents` í…Œì´ë¸” í™œìš©
2. ìŠ¹ì¸ ìš”ì²­ ìƒì„± API
3. ìŠ¹ì¸/ê±°ë¶€ API
4. ìŠ¹ì¸ í›„ ìë™ ë³µêµ¬ íŠ¸ë¦¬ê±°

### Phase 2-4: React ëŒ€ì‹œë³´ë“œ UI (ì˜ˆìƒ 8ì‹œê°„)
1. ì—ëŸ¬ì½”ë“œ ê²€ìƒ‰ ë° ìƒì„¸ ì •ë³´
2. ìë™ ë³µêµ¬ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
3. ë³µêµ¬ íˆìŠ¤í† ë¦¬ ì°¨íŠ¸
4. ì‹¤ì‹œê°„ ì•Œë¦¼ (WebSocket)

### Phase 3-4: AWS Lightsail ë°°í¬ (ì˜ˆìƒ 5ì‹œê°„)
1. Docker ì´ë¯¸ì§€ ë¹Œë“œ
2. PostgreSQL ë§ˆì´ê·¸ë ˆì´ì…˜
3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
4. í”„ë¡œë•ì…˜ ë°°í¬ ë° ê²€ì¦

---

## ğŸ“ íŒŒì¼ êµ¬ì¡°

```
V-BIP/
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ schema.sql (ê¸°ë³¸ ìŠ¤í‚¤ë§ˆ)
â”‚   â”œâ”€â”€ schema_ai_extension.sql (AI í™•ì¥ ìŠ¤í‚¤ë§ˆ)
â”‚   â””â”€â”€ insert_error_codes_50.sql (ìƒ˜í”Œ 50ê°œ)
â”œâ”€â”€ auto_recovery/
â”‚   â”œâ”€â”€ recovery_manager.py (êµ¬ë²„ì „)
â”‚   â””â”€â”€ recovery_manager_v2.py (ì‹ ê·œ, DB í†µí•©)
â”œâ”€â”€ ai_diagnosis/
â”‚   â”œâ”€â”€ diagnosis_engine.py
â”‚   â””â”€â”€ lightweight_diagnosis_engine.py
â”œâ”€â”€ api_server.py (Flask API ì„œë²„, 21 ì—”ë“œí¬ì¸íŠ¸)
â”œâ”€â”€ classify_all_errors_keyword.py (2,804ê°œ ë¶„ë¥˜ ì‹œìŠ¤í…œ)
â”œâ”€â”€ load_classified_errors_to_db.py (DB ì ì¬ ìŠ¤í¬ë¦½íŠ¸)
â”œâ”€â”€ extracted_all_error_codes.json (2,804ê°œ ì›ë³¸)
â””â”€â”€ classified_all_errors_keyword.json (ë¶„ë¥˜ ê²°ê³¼)
```

---

## ğŸ”— ë§í¬

- **GitHub ì €ì¥ì†Œ**: https://github.com/thelab-bobkim/V-BIP
- **API ì„œë²„ (ìƒŒë“œë°•ìŠ¤)**: https://5000-in0fmwrdwsp3lis0zot26-c07dda5e.sandbox.novita.ai
- **ìµœì‹  ì»¤ë°‹**: `0e65d97` - Phase 2-2 ìë™ ë³µêµ¬ ì‹œìŠ¤í…œ êµ¬í˜„ ì™„ë£Œ

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] 2,804ê°œ ì—ëŸ¬ì½”ë“œ PDF ì¶”ì¶œ
- [x] í‚¤ì›Œë“œ ê¸°ë°˜ AI ìë™ ë¶„ë¥˜ (Level 1/2/3)
- [x] PostgreSQL error_patterns í…Œì´ë¸” ì ì¬
- [x] AutoRecoveryManager v2 êµ¬í˜„
- [x] API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€ (ë³µêµ¬ ì‹¤í–‰, ìë™ ìˆ˜ì • ëª©ë¡)
- [x] ë³µêµ¬ íˆìŠ¤í† ë¦¬ DB ê¸°ë¡
- [x] Git ì»¤ë°‹ ë° GitHub í‘¸ì‹œ
- [ ] ì—”ì§€ë‹ˆì–´ ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° API
- [ ] React ëŒ€ì‹œë³´ë“œ UI
- [ ] AWS Lightsail ë°°í¬

---

## ğŸ“ ë‹¤ìŒ ì‘ì—… ì‹œ ì°¸ê³ ì‚¬í•­

1. **Phase 2-3 (ì—”ì§€ë‹ˆì–´ ìŠ¹ì¸)** ìš°ì„  ì§„í–‰ ê¶Œì¥
   - `/api/incidents/create` - ìŠ¹ì¸ ìš”ì²­ ìƒì„±
   - `/api/incidents/{id}/approve` - ìŠ¹ì¸
   - `/api/incidents/{id}/reject` - ê±°ë¶€
   - ìŠ¹ì¸ í›„ `recovery_manager_v2.process_error()` ìë™ í˜¸ì¶œ

2. **API ì„œë²„ ì¬ì‹œì‘ ëª…ë ¹ì–´**
   ```bash
   cd /home/user/V-BIP
   fuser -k 5000/tcp && sleep 2
   nohup python3 api_server.py > /tmp/vbip_api.log 2>&1 &
   curl http://localhost:5000/api/health
   ```

3. **DB ì—°ê²° ì •ë³´**
   - Host: localhost
   - Port: 5432
   - Database: vbip
   - User: vbip_user
   - Password: vbip_password_2024

---

**ì‘ì„±ì**: Claude (AI Assistant)  
**ê²€í† ì**: -  
**ìŠ¹ì¸ì¼**: 2026-02-18
